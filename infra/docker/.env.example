# ===================================
# MsspBizCenter Docker Environment
# ===================================
# 사용법:
# 1. 이 파일을 .env로 복사: cp .env.example .env
# 2. 필요에 따라 값 수정
# 3. .env 파일은 절대 커밋하지 않음

# ===================================
# Application Environment
# ===================================
NODE_ENV=development

# ===================================
# Database Configuration (PostgreSQL)
# ===================================
# 컨테이너 내부에서 사용 (호스트는 5433 포트로 접속)
DB_TYPE=postgres
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=msspbiz
DB_PASSWORD=your_secure_password_change_me
DB_DATABASE=msspbiz
DB_SYNCHRONIZE=true
DB_LOGGING=true

# ===================================
# Redis Configuration
# ===================================
# 컨테이너 내부에서 사용 (호스트는 6380 포트로 접속)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_change_me

# ===================================
# Backend Configuration (NestJS)
# ===================================
PORT=4001
BACKEND_PORT=4001

# JWT 설정 (프로덕션에서는 반드시 변경!)
JWT_SECRET=your-secret-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this-in-production-min-32-chars
JWT_REFRESH_EXPIRES_IN=7d

# 계약 금액 암호화 키 (정확히 32자)
CONTRACT_ENCRYPTION_KEY=your-encryption-key-32-chars!!!

# CORS (Frontend URL)
CORS_ORIGIN=http://localhost:3001

# Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# Logging
LOG_LEVEL=debug

# Audit Log Retention (days)
AUDIT_RETENTION_DAYS=90

# ===================================
# Frontend Configuration (Next.js)
# ===================================
FRONTEND_PORT=3001
# Backend API URL (브라우저에서 접속하는 URL)
NEXT_PUBLIC_API_URL=http://localhost:4001/api/v1

# ===================================
# Default Admin Account
# ===================================
# 초기 관리자 계정 (첫 실행 시 자동 생성)
ADMIN_EMAIL=admin@msspbiz.local
ADMIN_PASSWORD=Admin@1234!
ADMIN_NAME=System Admin
ADMIN_TENANT=default

# ===================================
# 파일 업로드 설정
# ===================================
MAX_FILE_SIZE=10485760
UPLOAD_DEST=./uploads

# ===================================
# 보안 설정
# ===================================
# HTTPS 사용 시 설정
# USE_HTTPS=false
# SSL_KEY_PATH=/path/to/key.pem
# SSL_CERT_PATH=/path/to/cert.pem

# ===================================
# 개발 환경 힌트
# ===================================
# 호스트에서 접속 포트:
# - Frontend: http://localhost:3001
# - Backend API: http://localhost:4001
# - PostgreSQL: localhost:5433
# - Redis: localhost:6380
#
# Docker 내부에서 접속:
# - PostgreSQL: postgres:5432
# - Redis: redis:6379
# - Backend: backend:4001
